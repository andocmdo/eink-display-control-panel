<!DOCTYPE html>
<html>
<head>
    <title>E-Ink Display Control Panel</title>
    <script src="https://unpkg.com/htmx.org@1.9.10"></script>
</head>
<body>
    <h1>E-Ink Display Control Panel</h1>

    <p><a href="/preview" target="_blank"><button type="button">Preview Display</button></a></p>

    <form method="POST">
        <h2>Weather Locations</h2>
        <p>Enter up to 3 locations (zip code or city, state):</p>
        {% for i in range(3) %}
        <div>
            <label>Location {{ i + 1 }}:</label>
            <input type="text" name="weather_{{ i }}" value="{{ data['weather_locations'][i] }}">
        </div>
        {% endfor %}

        <h2>Stock Tickers</h2>
        <p>Enter up to 10 stock tickers:</p>
        {% for i in range(10) %}
        <div>
            <label>Ticker {{ i + 1 }}:</label>
            <input type="text" name="stock_{{ i }}" value="{{ data['stock_tickers'][i] }}">
        </div>
        {% endfor %}

        <br>
        <button type="submit">Save Weather & Stocks</button>
    </form>

    <hr>

    <h2>Todo Items</h2>
    <div id="todos-list">
        {% with todos=data['todos'] %}
            {% include 'todos_list.html' %}
        {% endwith %}
    </div>
    <button hx-post="/todos/add"
            hx-target="#todos-list"
            hx-swap="innerHTML">Add Todo</button>
</body>
</html>
